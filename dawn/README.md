Dawn <br/> <a target="_blank" href="http://semver.org">![Version][Version.Badge]</a> <!--<a target="_blank" href="https://travis-ci.org/MeteoSwiss-APN/dawn">![Travis status][TravisCI.Badge]</a>--> <a target="_blank" href="https://opensource.org/licenses/MIT">![License: MIT][MIT.License]</a> <a target="_blank" href="https://MeteoSwiss-APN.github.io/dawn">![Documentation][Documentation.Badge]</a>
====

## Introduction

**Dawn** is the back end of a toolchain, performing optimizations and code generation to a number of different back ends, for developing high-level DSLs for geophysical fluid dynamics models. See the top level `README` for a detailed description.

## Building

```bash
git clone git@github.com:MeteoSwiss-APN/dawn.git
cd dawn/dawn/bundle
mkdir build && cd build
cmake .. #ADDITIONAL_FLAGS#
make -j6
make install
```

Where the `ADDITIONAL_FAGS` may include

* `-DProtobuf_DIR=<path/to/protobuf>` if you already have a protobuf installation. If not, the build system will download and install protobuf for you. 
* `-DDAWN_BUNDLE_PYTHON=ON -DDAWN_PYTHON_EXAMPLES=ON` to also build Python 3 examples that generate SIR <!--(IIR?!)--> in memory
* `-DCLANG-FORMAT_EXECUTABLE=/usr/bin/clang-format` to enable automatic code formatting for code generated by dawn.
* `-DCMAKE_BUILD_TYPE=[Debug|Release|RelWithDebugInfo]` to set the build type
* `-DDAWN_BUNDLE_JAVA=ON` to generate Java protobuf bindings

## Testing

There are two kinds of tests currently. Python tests which are launched by the `/dawn/dawn/bundle/build && make install` step (if the necessary flags are set, see above) and tests using `Ctest`. To launch the latter:
```
cd dawn/bundle/build/dawn-prefix/src/dawn-build/
ctest -V
```

## License

> The full license can be found [here](https://opensource.org/licenses/MIT).

This project is licensed under the terms of the **MIT** license.

<!-- Links -->
[Documentation.Badge]: https://img.shields.io/badge/documentation-link-blue.svg
[MIT.License]: https://img.shields.io/badge/License-MIT-blue.svg
[Version.Badge]: https://badge.fury.io/gh/MeteoSwiss-APN%2Fdawn.svg
