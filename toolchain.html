

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dawn toolchain &mdash; Dawn 0.0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Dawn 0.0.1 documentation" href="index.html"/>
        <link rel="next" title="ISIR" href="isir.html"/>
        <link rel="prev" title="Stencil Intermediate Representation" href="sir.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Dawn
          

          
          </a>

          
            
            
              <div class="version">
                0.0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">About this project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="intro.html#core-features">Core Features</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">The Basics</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="basics.html">First steps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="basics.html#compiling-the-library">Compiling the library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basics.html#linux">Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="basics.html#mac-os">Mac OS</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basics.html#linking-the-library">Linking the library</a><ul>
<li class="toctree-l3"><a class="reference internal" href="basics.html#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="basics.html#using-the-library">Using the library</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Advanced Topics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="sir.html">Stencil Intermediate Representation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Dawn toolchain</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#parallel-model-builder">Parallel Model Builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="#safety-checker">Safety Checker</a></li>
<li class="toctree-l2"><a class="reference internal" href="#optimizer">Optimizer</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="isir.html">ISIR</a></li>
<li class="toctree-l1"><a class="reference internal" href="gridtools.html">GridTools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gridtools.html#parallel-model">Parallel Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="coding.html">Dawn Coding standard</a><ul>
<li class="toctree-l2"><a class="reference internal" href="coding.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="coding.html#supported-c-11-language-and-library-features">Supported C++11 Language and Library Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="coding.html#style-issues">Style Issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="coding.html#naming-of-types-functions-variables-and-enumerators">Naming of Types, Functions, Variables, and Enumerators</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="coding.html#source-code-formatting">Source Code Formatting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="coding.html#source-code-width">Source Code Width</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#spaces-before-parentheses">Spaces Before Parentheses</a></li>
<li class="toctree-l3"><a class="reference internal" href="coding.html#pointer-and-reference-alignment">Pointer and Reference Alignment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="coding.html#clang-format">Clang Format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="doxygen.html">Doxygen</a></li>
<li class="toctree-l1"><a class="reference internal" href="cmake-modules.html">CMake Modules</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cmake-modules.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="cmake-modules.html#functions-macros">Functions &amp; Macros</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cmake-modules/DawnExportPackage.html">dawn_export_package</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmake-modules/DawnProtobufGenerate.html">dawn_protobuf_generate</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cmake-modules.html#modules">Modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="cmake-modules/FindClang.html">FindClang</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmake-modules/FindLLVM.html">FindLLVM</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmake-modules/FindSphinx.html">FindSphinx</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmake-modules/Findbash.html">Findbash</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmake-modules/Findccache.html">Findccache</a></li>
<li class="toctree-l3"><a class="reference internal" href="cmake-modules/Findclang-format.html">Findclang-format</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Dawn</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Dawn toolchain</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/MeteoSwiss-APN/dawn/blob/master/docs/toolchain.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="dawn-toolchain">
<h1>Dawn toolchain<a class="headerlink" href="#dawn-toolchain" title="Permalink to this headline">¶</a></h1>
<p>The toolchain of Dawn contains several modules and is organized in passes, allowing to customize the process by enabling, disabling or change the order of execution of the individual passes. The default order of execution, depicted in <a class="reference internal" href="#toolchain-process"><span class="std std-numref">Figure 1</span></a>, starts by translating the SIR into an <em>internal</em> SIR (<a class="reference internal" href="isir.html#isir"><span class="std std-ref">ISIR</span></a>) which enriches the SIR with various information, like the computation of the access patterns, required by the following passes. As the initial construction of the ISIR generates a parallel program that is most likely incorrect under the given parallel model, we invoke several passes (<a class="reference internal" href="#parallel-model-builder">Parallel Model Builder</a>) to build a valid parallel program. The <a class="reference internal" href="#safety-checker">Safety Checker</a> passes will run various static analysis routines and the <a class="reference internal" href="#optimizer">Optimizer</a> will perform several optimizations such as reordering and fusing groups of statements, setting software managed caches or reducing shared-memory pressure. Finally, the code generation will translate the ISIR into the main DSL of GridTools or directly to C++.</p>
<div class="figure align-center" id="id4">
<span id="toolchain-process"></span><img alt="_images/toolchain_process.png" src="_images/toolchain_process.png" />
<p class="caption"><span class="caption-number">Fig. 1 </span><span class="caption-text">Default order of execution of the passes grouped in <a class="reference internal" href="#parallel-model-builder">Parallel Model Builder</a> (orange), <a class="reference internal" href="#safety-checker">Safety Checker</a> (yellow) and <a class="reference internal" href="#optimizer">Optimizer</a> (green).</span></p>
</div>
<div class="section" id="parallel-model-builder">
<span id="id1"></span><h2>Parallel Model Builder<a class="headerlink" href="#parallel-model-builder" title="Permalink to this headline">¶</a></h2>
<p>The parallel model builder passes transform the initial Stage and Multi-Stage arrangement into a valid parallel program under the <a class="reference internal" href="gridtools.html#gridtools-parallel-model"><span class="std std-ref">GridTools parallel model</span></a>.</p>
</div>
<div class="section" id="safety-checker">
<span id="id2"></span><h2>Safety Checker<a class="headerlink" href="#safety-checker" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
</div>
<div class="section" id="optimizer">
<span id="id3"></span><h2>Optimizer<a class="headerlink" href="#optimizer" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="isir.html" class="btn btn-neutral float-right" title="ISIR" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sir.html" class="btn btn-neutral" title="Stencil Intermediate Representation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, ETH Zurich and MeteoSwiss.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.1',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>